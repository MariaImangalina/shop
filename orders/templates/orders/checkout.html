{% extends 'base.html' %}

{% block content %}

<div class=container>
    <div class='row'>

        <div class='col-lg-6'>

            <h2>Please fill the delivery form</h2>
            <br>

            <form method='POST' action="{% url 'orders:checkout' %}">
                {% csrf_token %}
                <div class="form-group">
                  <label>Phone number</label>
                  <input type="text" class="form-control" placeholder="Example: +79011234567" name='phone'>
                </div>

                <div class="form-group">
                    <label>Email</label>
                    <input type="email" class="form-control" placeholder="Email" name='email'>
                </div>
            
                <br>
                
                <div class="btn-group btn-group-toggle" data-toggle="buttons">
                    <label class="btn btn-outline-primary">
                      <input type="radio" onclick='ShowRadio("Button")'  name="options" id="Button1" autocomplete="off" checked> Courier delivery
                    </label>
                    <label class="btn btn-outline-primary">
                      <input type="radio" onclick='ShowRadio("Button")'name="options" id="Button2" autocomplete="off"> Pickup Point
                    </label>
                  </div>

                  <br>
                  <br>
                <div class="form-group" style='display: none' id='Button1Div'>
                  <label>Address</label>
                  <input type="text" class="form-control" placeholder="Address" name='address'>
                </div>

                <div class="form-group" style='display: none' id='Button2Div'>
                    <label>Please choose pickup point:</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="exampleRadios" value="option1" checked>
                    <label class="form-check-label">
                      MSU, Lomonosov State University, B-1
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="exampleRadios" value="option2">
                    <label class="form-check-label">
                      Cosmos Hotel, 1st floor
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="exampleRadios" value="option3">
                    <label class="form-check-label">
                      Gorod Mall, 2nd floor
                    </label>
                </div>
                
                <br>
                <div>
                <script type="text/javascript" charset="utf-8" async src="https://api-maps.yandex.ru/services/constructor/1.0/js/?um=constructor%3Af2e6b485b71b7c628142138f5ae4ee37b2a67e105024b1dff25fdc0689e34662&amp;width=500&amp;height=400&amp;lang=ru_RU&amp;scroll=true"></script>
                </div>
                </div>
                <br>
                <br>
                <button type="submit" class="btn btn-success btn-lg btn-block">Submit</button>

              </form>
              <script>
                function ShowRadio (IdName) {
                  for (x=1; x<=2; x++) {
                    CheckButton = IdName + x;
                    ThisDiv = IdName + x + 'Div';                  
                  if (document.getElementById(CheckButton).checked) {
                    document.getElementById(ThisDiv).style.display = 'block';
                  }
                  else {
                    document.getElementById(ThisDiv).style.display = 'none';
                  }
                }
              }
              </script>
            
        </div>

        <div class='col-lg-1'></div>

        <div class='col-lg-5'>
            <h2>Order â„–{{ object.id }} detail</h2>
            <br>
            <table class='table thead-light'>
                <thead class='thead-light'>
                    <tr>
                        <th scope='col'>#</th>
                        <th scope='col'>Good Title</th> 
                        <th scope='col'>Price, RUR</th> 
                        <th scope='col'>Quantity</th> 
                        <th scope='col'>Amount, RUR</th>
                    </tr>
                </thead>
                {% for order_good in object.goods.all %}
                <tr>
                    <th scope='row'>{{ forloop.counter }}</td>
                    <td>{{ order_good.good.title }}</td>
                    <td>{{ order_good.good.price }}</td>
                    <td>{{ order_good.quantity }}</td>
                    <td>{{ order_good.get_amount }}</td>
            
                </tr>
                {% endfor %}
            </table>
            <br>
            <h4>Total: {{ object.get_total }} RUR</h4>
            <br>
            <a class = 'btn btn-secondary' role='button' href="{% url 'goods:all' %}">Back to catalog</a>
            
        </div>
        
</div>

</div>
</div>

{% endblock %}